var sl=SLib={};try{module.exports=sl}catch(e){console.log(e)};sl.eagleMysql=function(){this.mysql=null,this.client=null,this.dbConfig=null;var e={};return e.init=function(e){this.mysql=require("mysql"),this.dbConfig=e},e.createTables=function(e){for(var t=0,n=e.length;t<n;++t){var r=e[t].Name,i=e[t].Fields,s="CREATE TABLE if not exists "+r+"(ID INT(11) not null AUTO_INCREMENT, ";for(var o=0,u=i.length;o<u;++o)s+=i[o].key+" "+i[o].type+", ";s+="PRIMARY KEY (id))",this.client.query(s)}},e.insert=function(t,n){var r=" "+t.keys[0]+"=? ";for(var i=1,s=t.keys.length;i<s;++i)r+=", "+t.keys[i]+"=? ";this.client.query("INSERT INTO "+t.table+" SET "+r,t.values,function(t,r,i){e._doCallback(t,r,i,n)})},e.delete=function(t,n){this.client.query("DELETE FROM "+t.table+" "+t.conditions,function(t,r,i){e._doCallback(t,r,i,n)})},e.update=function(t,n){var r=" "+t.keys[0]+"=? ";for(var i=1,s=t.keys.length;i<s;++i)r+=", "+t.keys[i]+"=? ";this.client.query("UPDATE "+t.table+" SET "+r+" "+t.conditions,t.values,function(t,r,i){e._doCallback(t,r,i,n)})},e.select=function(t,n){var r=" "+t.keys[0]+" ";for(var i=1,s=t.keys.length;i<s;++i)r+=", "+t.keys[i]+" ";this.client.query("SELECT "+r+" FROM "+t.table+" "+t.conditions,function(t,r,i){e._doCallback(t,r,i,n)})},e.connet=function(){this.client=this.mysql.createConnection(this.dbConfig.dbOptions),this.client.query("USE "+this.dbConfig.dataBase,function(e,t){if(e){console.log("ClientConnectionReady Error: "+e.message);return}console.log("ClientConnect Success")})},e.disconnet=function(){this.client.end(),this.client=null},e._doCallback=function(e,t,n,r){e?r.error(e):(data={results:t,fields:n},r.success(data))},e}();sl.sqlCondition=function(){var e=e||"";this.where=function(t){return e+=" where "+t,this},this.and=function(t){return e+=" and "+t,this},this.or=function(t){return e+=" or "+t,this},this.getSql=function(){return e}};